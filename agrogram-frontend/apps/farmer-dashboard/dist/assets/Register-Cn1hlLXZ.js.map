{"version":3,"file":"Register-Cn1hlLXZ.js","sources":["../../src/pages/Register.jsx"],"sourcesContent":["import React, { useState } from 'react';\r\nimport { Navigate, Link, useNavigate } from 'react-router-dom';\r\nimport { useAuth } from '../contexts/AuthContext';\r\nimport { Button, Input, Card, Select, LoadingSpinner } from '@agro-gram/ui';\r\nimport './Auth.css';\r\n\r\nconst Register = () => {\r\n  const { user, register } = useAuth();\r\n  const navigate = useNavigate();\r\n  \r\n  const [formData, setFormData] = useState({\r\n    email: '',\r\n    password: '',\r\n    confirmPassword: '',\r\n    firstName: '',\r\n    lastName: '',\r\n    phoneNumber: '',\r\n    role: 'FARMER',\r\n    subRole: 'SMALLHOLDER_FARMER',\r\n    businessName: '',\r\n    location: '',\r\n    farmSize: '',\r\n    businessDescription: '',\r\n    agreeToTerms: false\r\n  });\r\n  \r\n  const [loading, setLoading] = useState(false);\r\n  const [error, setError] = useState('');\r\n  const [success, setSuccess] = useState('');\r\n  const [validationErrors, setValidationErrors] = useState({});\r\n\r\n  if (user) {\r\n    return <Navigate to=\"/dashboard\" replace />;\r\n  }\r\n\r\n  const handleChange = (e) => {\r\n    const { name, value, type, checked } = e.target;\r\n    \r\n    if (name === 'role') {\r\n      // When role changes, reset subRole to the default for that role\r\n      const defaultSubRole = getDefaultSubRole(value);\r\n      setFormData(prev => ({\r\n        ...prev,\r\n        role: value,\r\n        subRole: defaultSubRole\r\n      }));\r\n    } else {\r\n      setFormData(prev => ({\r\n        ...prev,\r\n        [name]: type === 'checkbox' ? checked : value\r\n      }));\r\n    }\r\n    \r\n    // Clear validation errors for this field\r\n    if (validationErrors[name]) {\r\n      setValidationErrors(prev => ({\r\n        ...prev,\r\n        [name]: ''\r\n      }));\r\n    }\r\n  };\r\n\r\n  // NEW: Separate handler for sub-role changes\r\n  const handleSubRoleChange = (e) => {\r\n    const { value } = e.target;\r\n    setFormData(prev => ({\r\n      ...prev,\r\n      subRole: value\r\n    }));\r\n    \r\n    if (validationErrors.subRole) {\r\n      setValidationErrors(prev => ({\r\n        ...prev,\r\n        subRole: ''\r\n      }));\r\n    }\r\n  };\r\n\r\n  // Sub-role configuration\r\n  const getSubRoles = (role) => {\r\n    const subRoles = {\r\n      FARMER: [\r\n        { value: 'SMALLHOLDER_FARMER', label: 'Smallholder Farmer', description: 'Small-scale farming with daily operations focus' },\r\n        { value: 'COMMERCIAL_FARMER', label: 'Commercial Farmer', description: 'Large-scale operations with business intelligence' },\r\n        { value: 'ORGANIC_SPECIALIST', label: 'Organic Specialist', description: 'Certified organic operations with premium market access' },\r\n        { value: 'LIVESTOCK_FARMER', label: 'Livestock Farmer', description: 'Animal health and product processing management' }\r\n      ],\r\n      CONSUMER: [\r\n        { value: 'INDIVIDUAL_CONSUMER', label: 'Individual Consumer', description: 'Personal shopping with convenience focus' },\r\n        { value: 'RESTAURANT_BUSINESS', label: 'Restaurant/Business', description: 'Supply chain and inventory integration' },\r\n        { value: 'EXPORT_CLIENT', label: 'Export Client', description: 'International compliance and logistics' },\r\n        { value: 'INSTITUTIONAL_BUYER', label: 'Institutional Buyer', description: 'Contract management and budgeting' }\r\n      ],\r\n      SUPPLIER: [\r\n        { value: 'LOGISTICS_PROVIDER', label: 'Logistics Provider', description: 'Fleet optimization and delivery efficiency' },\r\n        { value: 'INPUT_SUPPLIER', label: 'Input Supplier', description: 'Inventory and sales optimization' },\r\n        { value: 'MACHINERY_PROVIDER', label: 'Machinery Provider', description: 'Equipment rental and maintenance' },\r\n        { value: 'SERVICE_PROVIDER', label: 'Service Provider', description: 'Service delivery and booking management' }\r\n      ],\r\n      AGENT: [\r\n        { value: 'FINANCIAL_ADVISOR', label: 'Financial Advisor', description: 'Loan portfolio and farmer financial health' },\r\n        { value: 'TECHNICAL_ADVISOR', label: 'Technical Advisor', description: 'Problem resolution and knowledge sharing' },\r\n        { value: 'LEGAL_SPECIALIST', label: 'Legal Specialist', description: 'Compliance and dispute resolution' },\r\n        { value: 'MARKET_ANALYST', label: 'Market Analyst', description: 'Price intelligence and market insights' }\r\n      ],\r\n      ADMIN: [\r\n        { value: 'PLATFORM_ADMIN', label: 'Platform Admin', description: 'System health and user management' },\r\n        { value: 'BUSINESS_ADMIN', label: 'Business Admin', description: 'Revenue and business intelligence' }\r\n      ]\r\n    };\r\n    return subRoles[role] || [];\r\n  };\r\n\r\n  const getDefaultSubRole = (role) => {\r\n    const defaults = {\r\n      FARMER: 'SMALLHOLDER_FARMER',\r\n      CONSUMER: 'INDIVIDUAL_CONSUMER',\r\n      SUPPLIER: 'INPUT_SUPPLIER',\r\n      AGENT: 'FINANCIAL_ADVISOR',\r\n      ADMIN: 'PLATFORM_ADMIN'\r\n    };\r\n    return defaults[role] || '';\r\n  };\r\n\r\n  const getSubRoleFeatures = (subRole) => {\r\n    const features = {\r\n      // Farmer Sub-roles\r\n      SMALLHOLDER_FARMER: [\r\n        'AI-generated daily task lists',\r\n        'Simple crop management',\r\n        'Immediate weather and price alerts',\r\n        'Basic revenue tracking',\r\n        'Mobile-optimized interface'\r\n      ],\r\n      COMMERCIAL_FARMER: [\r\n        'Multi-farm operational dashboard',\r\n        'Supply chain management',\r\n        'Advanced business intelligence',\r\n        'Bulk contract identification',\r\n        'Enterprise system integration'\r\n      ],\r\n      ORGANIC_SPECIALIST: [\r\n        'Certification status tracking',\r\n        'Quality management tools',\r\n        'Premium marketplace access',\r\n        'Compliance documentation',\r\n        'Sustainable agriculture network'\r\n      ],\r\n      LIVESTOCK_FARMER: [\r\n        'Livestock health monitoring',\r\n        'Animal management programs',\r\n        'Product processing operations',\r\n        'Veterinary coordination',\r\n        'Mobile-optimized for field use'\r\n      ],\r\n      \r\n      // Consumer Sub-roles\r\n      INDIVIDUAL_CONSUMER: [\r\n        'AI-curated product recommendations',\r\n        'Quick order system',\r\n        'Delivery management',\r\n        'Personal analytics',\r\n        'Food community connections'\r\n      ],\r\n      RESTAURANT_BUSINESS: [\r\n        'Supply chain overview',\r\n        'Template-based ordering',\r\n        'Inventory integration',\r\n        'Menu planning tools',\r\n        'Quality control monitoring'\r\n      ],\r\n      EXPORT_CLIENT: [\r\n        'Global trade overview',\r\n        'Export management tools',\r\n        'Compliance documentation',\r\n        'International pricing intelligence',\r\n        'Global partner network'\r\n      ],\r\n      INSTITUTIONAL_BUYER: [\r\n        'Contract management',\r\n        'Tender management tools',\r\n        'Budget compliance tracking',\r\n        'Quality assurance monitoring',\r\n        'Supplier performance tracking'\r\n      ],\r\n      \r\n      // Supplier Sub-roles\r\n      LOGISTICS_PROVIDER: [\r\n        'Fleet command center',\r\n        'Intelligent delivery prioritization',\r\n        'AI-powered route optimization',\r\n        'Maintenance scheduling',\r\n        'Performance analytics'\r\n      ],\r\n      INPUT_SUPPLIER: [\r\n        'Inventory & sales snapshot',\r\n        'Multi-location inventory management',\r\n        'Customer relationship management',\r\n        'Sales intelligence',\r\n        'Competitive analysis'\r\n      ],\r\n      MACHINERY_PROVIDER: [\r\n        'Equipment fleet overview',\r\n        'Rental operations management',\r\n        'Predictive maintenance',\r\n        'Revenue optimization',\r\n        'Customer management'\r\n      ],\r\n      SERVICE_PROVIDER: [\r\n        'Service operations overview',\r\n        'Booking management',\r\n        'Mobile workforce coordination',\r\n        'Customer relations',\r\n        'Business performance analytics'\r\n      ],\r\n      \r\n      // Agent Sub-roles\r\n      FINANCIAL_ADVISOR: [\r\n        'Financial portfolio overview',\r\n        'Loan management',\r\n        'Risk assessment tools',\r\n        'Impact analytics',\r\n        'Financial product development'\r\n      ],\r\n      TECHNICAL_ADVISOR: [\r\n        'Active advisory cases',\r\n        'Remote diagnosis tools',\r\n        'Knowledge base integration',\r\n        'Impact measurement',\r\n        'Continuous learning resources'\r\n      ],\r\n      LEGAL_SPECIALIST: [\r\n        'Legal cases overview',\r\n        'Compliance hub',\r\n        'Document management',\r\n        'Dispute resolution',\r\n        'Legal resources library'\r\n      ],\r\n      MARKET_ANALYST: [\r\n        'Market intelligence overview',\r\n        'Price intelligence feeds',\r\n        'Supply-demand analysis',\r\n        'Automated reporting',\r\n        'Alert management'\r\n      ],\r\n      \r\n      // Admin Sub-roles\r\n      PLATFORM_ADMIN: [\r\n        'Platform health monitoring',\r\n        'User management',\r\n        'System performance tracking',\r\n        'Feature deployment',\r\n        'Support operations'\r\n      ],\r\n      BUSINESS_ADMIN: [\r\n        'Business overview analytics',\r\n        'Revenue analysis',\r\n        'Partnership management',\r\n        'Strategic planning tools',\r\n        'Executive reporting'\r\n      ]\r\n    };\r\n    return features[subRole] || [];\r\n  };\r\n\r\n  const getDashboardRoute = (subRole) => {\r\n    const routes = {\r\n      // Farmer dashboards\r\n      SMALLHOLDER_FARMER: '/dashboard/farmer/smallholder',\r\n      COMMERCIAL_FARMER: '/dashboard/farmer/commercial',\r\n      ORGANIC_SPECIALIST: '/dashboard/farmer/organic',\r\n      LIVESTOCK_FARMER: '/dashboard/farmer/livestock',\r\n      \r\n      // Consumer dashboards\r\n      INDIVIDUAL_CONSUMER: '/dashboard/consumer/individual',\r\n      RESTAURANT_BUSINESS: '/dashboard/consumer/restaurant',\r\n      EXPORT_CLIENT: '/dashboard/consumer/export',\r\n      INSTITUTIONAL_BUYER: '/dashboard/consumer/institutional',\r\n      \r\n      // Supplier dashboards\r\n      LOGISTICS_PROVIDER: '/dashboard/supplier/logistics',\r\n      INPUT_SUPPLIER: '/dashboard/supplier/input',\r\n      MACHINERY_PROVIDER: '/dashboard/supplier/machinery',\r\n      SERVICE_PROVIDER: '/dashboard/supplier/service',\r\n      \r\n      // Agent dashboards\r\n      FINANCIAL_ADVISOR: '/dashboard/agent/financial',\r\n      TECHNICAL_ADVISOR: '/dashboard/agent/technical',\r\n      LEGAL_SPECIALIST: '/dashboard/agent/legal',\r\n      MARKET_ANALYST: '/dashboard/agent/market',\r\n      \r\n      // Admin dashboards\r\n      PLATFORM_ADMIN: '/dashboard/admin/platform',\r\n      BUSINESS_ADMIN: '/dashboard/admin/business'\r\n    };\r\n    return routes[subRole] || '/dashboard';\r\n  };\r\n\r\n  const validateForm = () => {\r\n    const errors = {};\r\n    setValidationErrors({});\r\n    setError('');\r\n\r\n    if (!formData.email.trim()) {\r\n      errors.email = 'Email is required';\r\n    } else if (!/^[^\\s@]+@[^\\s@]+\\.[^\\s@]+$/.test(formData.email)) {\r\n      errors.email = 'Please enter a valid email address';\r\n    }\r\n    \r\n    if (!formData.password) {\r\n      errors.password = 'Password is required';\r\n    } else if (formData.password.length < 6) {\r\n      errors.password = 'Password must be at least 6 characters long';\r\n    }\r\n    \r\n    if (!formData.confirmPassword) {\r\n      errors.confirmPassword = 'Please confirm your password';\r\n    } else if (formData.password !== formData.confirmPassword) {\r\n      errors.confirmPassword = 'Passwords do not match';\r\n    }\r\n    \r\n    if (!formData.firstName.trim()) {\r\n      errors.firstName = 'First name is required';\r\n    }\r\n    \r\n    if (!formData.lastName.trim()) {\r\n      errors.lastName = 'Last name is required';\r\n    }\r\n    \r\n    if (!formData.subRole) {\r\n      errors.subRole = 'Please select a specific role type';\r\n    }\r\n    \r\n    if (!formData.agreeToTerms) {\r\n      errors.agreeToTerms = 'You must agree to the terms and conditions';\r\n    }\r\n    \r\n    if (['FARMER', 'SUPPLIER', 'AGENT'].includes(formData.role)) {\r\n      if (!formData.businessName.trim()) {\r\n        errors.businessName = `${getRoleLabel(formData.role)} name is required`;\r\n      }\r\n      if (!formData.location.trim()) {\r\n        errors.location = 'Location is required';\r\n      }\r\n    }\r\n\r\n    setValidationErrors(errors);\r\n    return Object.keys(errors).length === 0;\r\n  };\r\n\r\n  const getRoleLabel = (role) => {\r\n    const labels = {\r\n      FARMER: 'Farm',\r\n      CONSUMER: 'Consumer', \r\n      SUPPLIER: 'Business',\r\n      ADMIN: 'Administrator',\r\n      AGENT: 'Organization'\r\n    };\r\n    return labels[role] || role;\r\n  };\r\n\r\n  const getSubRoleLabel = (subRole) => {\r\n    const subRoleLabels = {\r\n      // Farmer\r\n      SMALLHOLDER_FARMER: 'Smallholder Farmer',\r\n      COMMERCIAL_FARMER: 'Commercial Farmer',\r\n      ORGANIC_SPECIALIST: 'Organic Specialist',\r\n      LIVESTOCK_FARMER: 'Livestock Farmer',\r\n      // Consumer\r\n      INDIVIDUAL_CONSUMER: 'Individual Consumer',\r\n      RESTAURANT_BUSINESS: 'Restaurant/Business',\r\n      EXPORT_CLIENT: 'Export Client',\r\n      INSTITUTIONAL_BUYER: 'Institutional Buyer',\r\n      // Supplier\r\n      LOGISTICS_PROVIDER: 'Logistics Provider',\r\n      INPUT_SUPPLIER: 'Input Supplier',\r\n      MACHINERY_PROVIDER: 'Machinery Provider',\r\n      SERVICE_PROVIDER: 'Service Provider',\r\n      // Agent\r\n      FINANCIAL_ADVISOR: 'Financial Advisor',\r\n      TECHNICAL_ADVISOR: 'Technical Advisor',\r\n      LEGAL_SPECIALIST: 'Legal Specialist',\r\n      MARKET_ANALYST: 'Market Analyst',\r\n      // Admin\r\n      PLATFORM_ADMIN: 'Platform Admin',\r\n      BUSINESS_ADMIN: 'Business Admin'\r\n    };\r\n    return subRoleLabels[subRole] || subRole;\r\n  };\r\n\r\n  const handleSubmit = async (e) => {\r\n    e.preventDefault();\r\n    setError('');\r\n    setSuccess('');\r\n\r\n    if (!validateForm()) {\r\n      return;\r\n    }\r\n\r\n    setLoading(true);\r\n\r\n    try {\r\n      const registrationData = {\r\n        email: formData.email,\r\n        password: formData.password,\r\n        first_name: formData.firstName.trim(),\r\n        last_name: formData.lastName.trim(),\r\n        phone_number: formData.phoneNumber.trim() || undefined,\r\n        role: formData.role,\r\n        sub_role: formData.subRole,\r\n        location: formData.location.trim(),\r\n      };\r\n\r\n      if (['FARMER', 'SUPPLIER', 'AGENT'].includes(formData.role)) {\r\n        registrationData.business_name = formData.businessName.trim();\r\n      }\r\n\r\n      if (formData.role === 'FARMER' && formData.farmSize) {\r\n        registrationData.farm_size = parseFloat(formData.farmSize);\r\n      }\r\n\r\n      if (formData.role === 'SUPPLIER') {\r\n        registrationData.business_description = formData.businessDescription.trim() || undefined;\r\n      }\r\n\r\n      // Clean up undefined or empty values\r\n      Object.keys(registrationData).forEach(key => {\r\n        if (registrationData[key] === undefined || registrationData[key] === '') {\r\n          delete registrationData[key];\r\n        }\r\n      });\r\n\r\n      console.log('📝 Registration data:', registrationData);\r\n\r\n      const result = await register(registrationData);\r\n      \r\n      if (result.success) {\r\n        const dashboardRoute = getDashboardRoute(formData.subRole);\r\n        setSuccess(`Registration successful! Redirecting to your ${getSubRoleLabel(formData.subRole)} dashboard...`);\r\n        \r\n        setTimeout(() => {\r\n          navigate(dashboardRoute, { replace: true });\r\n        }, 2000);\r\n      } else {\r\n        if (result.details && typeof result.details === 'object') {\r\n          setValidationErrors(result.details);\r\n          setError('Please fix the validation errors below');\r\n        } else {\r\n          setError(result.error || 'Registration failed. Please try again.');\r\n        }\r\n      }\r\n    } catch (err) {\r\n      console.error('Registration error:', err);\r\n      setError(err.message || 'An unexpected error occurred during registration');\r\n    } finally {\r\n      setLoading(false);\r\n    }\r\n  };\r\n\r\n  // Role options\r\n  const roleOptions = [\r\n    { value: 'FARMER', label: 'Farmer' },\r\n    { value: 'CONSUMER', label: 'Consumer' },\r\n    { value: 'SUPPLIER', label: 'Supplier' },\r\n    { value: 'AGENT', label: 'Agricultural Agent' },\r\n    { value: 'ADMIN', label: 'Administrator' }\r\n  ];\r\n\r\n  const currentSubRoles = getSubRoles(formData.role);\r\n  const currentSubRoleInfo = currentSubRoles.find(sr => sr.value === formData.subRole);\r\n\r\n  return (\r\n    <div className=\"auth-page\">\r\n      <div className=\"auth-container\">\r\n        <Card className=\"auth-card\" padding=\"large\">\r\n          <div className=\"auth-header\">\r\n            <h1>Join Agro-Gram</h1>\r\n            <p>Create your account and select your specialized role in the agricultural ecosystem</p>\r\n          </div>\r\n\r\n          {error && !Object.keys(validationErrors).length && (\r\n            <div className=\"auth-message auth-error\">\r\n              <p>{error}</p>\r\n            </div>\r\n          )}\r\n          \r\n          {success && (\r\n            <div className=\"auth-message auth-success\">\r\n              <p>{success}</p>\r\n            </div>\r\n          )}\r\n\r\n          <form onSubmit={handleSubmit} className=\"auth-form\">\r\n            {/* Personal Information */}\r\n            <div className=\"form-section\">\r\n              <h3>Personal Information</h3>\r\n              \r\n              <div className=\"form-row\">\r\n                <div className=\"form-group\">\r\n                  <label htmlFor=\"firstName\">First Name *</label>\r\n                  <Input\r\n                    type=\"text\"\r\n                    id=\"firstName\"\r\n                    name=\"firstName\"\r\n                    value={formData.firstName}\r\n                    onChange={handleChange}\r\n                    placeholder=\"Enter your first name\"\r\n                    required\r\n                    disabled={loading}\r\n                    error={!!validationErrors.firstName}\r\n                  />\r\n                  {validationErrors.firstName && (\r\n                    <span className=\"field-error\">{validationErrors.firstName}</span>\r\n                  )}\r\n                </div>\r\n                \r\n                <div className=\"form-group\">\r\n                  <label htmlFor=\"lastName\">Last Name *</label>\r\n                  <Input\r\n                    type=\"text\"\r\n                    id=\"lastName\"\r\n                    name=\"lastName\"\r\n                    value={formData.lastName}\r\n                    onChange={handleChange}\r\n                    placeholder=\"Enter your last name\"\r\n                    required\r\n                    disabled={loading}\r\n                    error={!!validationErrors.lastName}\r\n                  />\r\n                  {validationErrors.lastName && (\r\n                    <span className=\"field-error\">{validationErrors.lastName}</span>\r\n                  )}\r\n                </div>\r\n              </div>\r\n\r\n              <div className=\"form-group\">\r\n                <label htmlFor=\"email\">Email Address *</label>\r\n                <Input\r\n                  type=\"email\"\r\n                  id=\"email\"\r\n                  name=\"email\"\r\n                  value={formData.email}\r\n                  onChange={handleChange}\r\n                  placeholder=\"Enter your email address\"\r\n                  required\r\n                  disabled={loading}\r\n                  error={!!validationErrors.email}\r\n                />\r\n                {validationErrors.email && (\r\n                  <span className=\"field-error\">{validationErrors.email}</span>\r\n                )}\r\n              </div>\r\n\r\n              <div className=\"form-group\">\r\n                <label htmlFor=\"phoneNumber\">Phone Number</label>\r\n                <Input\r\n                  type=\"tel\"\r\n                  id=\"phoneNumber\"\r\n                  name=\"phoneNumber\"\r\n                  value={formData.phoneNumber}\r\n                  onChange={handleChange}\r\n                  placeholder=\"Enter your phone number\"\r\n                  disabled={loading}\r\n                  error={!!validationErrors.phoneNumber}\r\n                />\r\n                {validationErrors.phoneNumber && (\r\n                  <span className=\"field-error\">{validationErrors.phoneNumber}</span>\r\n                )}\r\n              </div>\r\n            </div>\r\n\r\n            {/* Account Security */}\r\n            <div className=\"form-section\">\r\n              <h3>Account Security</h3>\r\n              \r\n              <div className=\"form-row\">\r\n                <div className=\"form-group\">\r\n                  <label htmlFor=\"password\">Password *</label>\r\n                  <Input\r\n                    type=\"password\"\r\n                    id=\"password\"\r\n                    name=\"password\"\r\n                    value={formData.password}\r\n                    onChange={handleChange}\r\n                    placeholder=\"Create a password (min. 6 characters)\"\r\n                    required\r\n                    disabled={loading}\r\n                    error={!!validationErrors.password}\r\n                  />\r\n                  {validationErrors.password && (\r\n                    <span className=\"field-error\">{validationErrors.password}</span>\r\n                  )}\r\n                </div>\r\n                \r\n                <div className=\"form-group\">\r\n                  <label htmlFor=\"confirmPassword\">Confirm Password *</label>\r\n                  <Input\r\n                    type=\"password\"\r\n                    id=\"confirmPassword\"\r\n                    name=\"confirmPassword\"\r\n                    value={formData.confirmPassword}\r\n                    onChange={handleChange}\r\n                    placeholder=\"Confirm your password\"\r\n                    required\r\n                    disabled={loading}\r\n                    error={!!validationErrors.confirmPassword}\r\n                  />\r\n                  {validationErrors.confirmPassword && (\r\n                    <span className=\"field-error\">{validationErrors.confirmPassword}</span>\r\n                  )}\r\n                </div>\r\n              </div>\r\n            </div>\r\n\r\n            {/* Role Selection */}\r\n            <div className=\"form-section\">\r\n              <h3>Account Type</h3>\r\n              \r\n              <div className=\"form-group\">\r\n                <label htmlFor=\"role\">Select Your Main Role *</label>\r\n                <select\r\n                  id=\"role\"\r\n                  name=\"role\"\r\n                  value={formData.role}\r\n                  onChange={handleChange}\r\n                  disabled={loading}\r\n                  className=\"form-select\"\r\n                  style={{\r\n                    width: '100%',\r\n                    padding: '0.75rem',\r\n                    border: validationErrors.role ? '1px solid #e74c3c' : '1px solid #ddd',\r\n                    borderRadius: '4px',\r\n                    fontSize: '1rem',\r\n                    marginBottom: '1rem'\r\n                  }}\r\n                >\r\n                  {roleOptions.map(option => (\r\n                    <option key={option.value} value={option.value}>\r\n                      {option.label}\r\n                    </option>\r\n                  ))}\r\n                </select>\r\n              </div>\r\n\r\n              {/* Sub-role Selection */}\r\n              <div className=\"form-group\">\r\n                <label htmlFor=\"subRole\">Select Your Specialized Role *</label>\r\n                <select\r\n                  id=\"subRole\"\r\n                  name=\"subRole\"\r\n                  value={formData.subRole}\r\n                  onChange={handleSubRoleChange}\r\n                  disabled={loading || currentSubRoles.length === 0}\r\n                  className=\"form-select\"\r\n                  style={{\r\n                    width: '100%',\r\n                    padding: '0.75rem',\r\n                    border: validationErrors.subRole ? '1px solid #e74c3c' : '1px solid #ddd',\r\n                    borderRadius: '4px',\r\n                    fontSize: '1rem'\r\n                  }}\r\n                >\r\n                  {currentSubRoles.map(option => (\r\n                    <option key={option.value} value={option.value}>\r\n                      {option.label}\r\n                    </option>\r\n                  ))}\r\n                </select>\r\n                {validationErrors.subRole && (\r\n                  <span className=\"field-error\">{validationErrors.subRole}</span>\r\n                )}\r\n                \r\n                {/* Sub-role Information */}\r\n                {currentSubRoleInfo && (\r\n                  <div className=\"role-info\">\r\n                    <div className=\"role-header\">\r\n                      <h4>{currentSubRoleInfo.label}</h4>\r\n                      <p className=\"role-description\">\r\n                        {currentSubRoleInfo.description}\r\n                      </p>\r\n                    </div>\r\n                    \r\n                    <div className=\"role-features\">\r\n                      <h5>Specialized Features:</h5>\r\n                      <ul>\r\n                        {getSubRoleFeatures(formData.subRole).map((feature, index) => (\r\n                          <li key={index}>\r\n                            <span className=\"feature-icon\">✓</span>\r\n                            {feature}\r\n                          </li>\r\n                        ))}\r\n                      </ul>\r\n                    </div>\r\n                  </div>\r\n                )}\r\n              </div>\r\n            </div>\r\n\r\n            {/* Business Information */}\r\n            {['FARMER', 'SUPPLIER', 'AGENT'].includes(formData.role) && (\r\n              <div className=\"form-section\">\r\n                <h3>Business Information</h3>\r\n                \r\n                <div className=\"form-group\">\r\n                  <label htmlFor=\"businessName\">\r\n                    {formData.role === 'FARMER' ? 'Farm Name *' : \r\n                     formData.role === 'AGENT' ? 'Organization Name *' : 'Business Name *'}\r\n                  </label>\r\n                  <Input\r\n                    type=\"text\"\r\n                    id=\"businessName\"\r\n                    name=\"businessName\"\r\n                    value={formData.businessName}\r\n                    onChange={handleChange}\r\n                    placeholder={\r\n                      formData.role === 'FARMER' \r\n                        ? 'Enter your farm name' \r\n                        : formData.role === 'AGENT'\r\n                        ? 'Enter your organization name'\r\n                        : 'Enter your business name'\r\n                    }\r\n                    required\r\n                    disabled={loading}\r\n                    error={!!validationErrors.businessName}\r\n                  />\r\n                  {validationErrors.businessName && (\r\n                    <span className=\"field-error\">{validationErrors.businessName}</span>\r\n                  )}\r\n                </div>\r\n\r\n                <div className=\"form-group\">\r\n                  <label htmlFor=\"location\">Location *</label>\r\n                  <Input\r\n                    type=\"text\"\r\n                    id=\"location\"\r\n                    name=\"location\"\r\n                    value={formData.location}\r\n                    onChange={handleChange}\r\n                    placeholder=\"Enter your location\"\r\n                    disabled={loading}\r\n                    required\r\n                    error={!!validationErrors.location}\r\n                  />\r\n                  {validationErrors.location && (\r\n                    <span className=\"field-error\">{validationErrors.location}</span>\r\n                  )}\r\n                </div>\r\n\r\n                {formData.role === 'FARMER' && (\r\n                  <div className=\"form-group\">\r\n                    <label htmlFor=\"farmSize\">Farm Size (acres)</label>\r\n                    <Input\r\n                      type=\"number\"\r\n                      id=\"farmSize\"\r\n                      name=\"farmSize\"\r\n                      value={formData.farmSize}\r\n                      onChange={handleChange}\r\n                      placeholder=\"0.00\"\r\n                      step=\"0.01\"\r\n                      min=\"0\"\r\n                      disabled={loading}\r\n                    />\r\n                  </div>\r\n                )}\r\n\r\n                {formData.role === 'SUPPLIER' && (\r\n                  <div className=\"form-group\">\r\n                    <label htmlFor=\"businessDescription\">Business Description</label>\r\n                    <Input\r\n                      type=\"text\"\r\n                      id=\"businessDescription\"\r\n                      name=\"businessDescription\"\r\n                      value={formData.businessDescription}\r\n                      onChange={handleChange}\r\n                      placeholder=\"Describe your business and products\"\r\n                      disabled={loading}\r\n                    />\r\n                  </div>\r\n                )}\r\n              </div>\r\n            )}\r\n\r\n            {/* Terms and Conditions */}\r\n            <div className=\"form-section\">\r\n              <div className=\"form-group checkbox-group\">\r\n                <label className=\"checkbox-label\">\r\n                  <input\r\n                    type=\"checkbox\"\r\n                    name=\"agreeToTerms\"\r\n                    checked={formData.agreeToTerms}\r\n                    onChange={handleChange}\r\n                    disabled={loading}\r\n                    required\r\n                  />\r\n                  <span>\r\n                    I agree to the <Link to=\"/terms\" className=\"auth-link\">Terms of Service</Link> and <Link to=\"/privacy\" className=\"auth-link\">Privacy Policy</Link> *\r\n                  </span>\r\n                </label>\r\n                {validationErrors.agreeToTerms && (\r\n                  <span className=\"field-error\">{validationErrors.agreeToTerms}</span>\r\n                )}\r\n              </div>\r\n            </div>\r\n\r\n            {/* Submit Button */}\r\n            <div className=\"auth-button-container\">\r\n              <Button\r\n                type=\"submit\"\r\n                variant=\"primary\"\r\n                size=\"large\"\r\n                disabled={loading}\r\n                fullWidth\r\n              >\r\n                {loading ? (\r\n                  <>\r\n                    <LoadingSpinner size=\"small\" />\r\n                    Creating Account...\r\n                  </>\r\n                ) : (\r\n                  `Create ${getSubRoleLabel(formData.subRole)} Account`\r\n                )}\r\n              </Button>\r\n            </div>\r\n          </form>\r\n\r\n          <div className=\"auth-footer\">\r\n            <p>\r\n              Already have an account?{' '}\r\n              <Link to=\"/login\" className=\"auth-link\">\r\n                Sign in here\r\n              </Link>\r\n            </p>\r\n          </div>\r\n        </Card>\r\n      </div>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default Register;"],"names":["Register","user","register","useAuth","navigate","useNavigate","formData","setFormData","useState","loading","setLoading","error","setError","success","setSuccess","validationErrors","setValidationErrors","jsx","Navigate","handleChange","e","name","value","type","checked","defaultSubRole","getDefaultSubRole","prev","handleSubRoleChange","getSubRoles","role","getSubRoleFeatures","subRole","getDashboardRoute","validateForm","errors","getRoleLabel","getSubRoleLabel","handleSubmit","registrationData","key","result","dashboardRoute","err","roleOptions","currentSubRoles","currentSubRoleInfo","sr","jsxs","Card","Input","option","feature","index","Link","Button","Fragment","LoadingSpinner"],"mappings":"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"}