import{u as w,a as U,r as p,j as e,N as k,C as V,L as b,B,b as z}from"./index-C07V4r8E.js";import{I as t}from"./input-kLXWFfVH.js";/* empty css             */const H=()=>{const{user:f,register:v}=w(),x=U(),[a,h]=p.useState({email:"",password:"",confirmPassword:"",firstName:"",lastName:"",phoneNumber:"",role:"FARMER",subRole:"SMALLHOLDER_FARMER",businessName:"",location:"",farmSize:"",businessDescription:"",agreeToTerms:!1}),[n,g]=p.useState(!1),[I,d]=p.useState(""),[A,S]=p.useState(""),[r,m]=p.useState({});if(f)return e.jsx(k,{to:"/dashboard",replace:!0});const l=s=>{const{name:i,value:o,type:c,checked:O}=s.target;if(i==="role"){const u=C(o);h(D=>({...D,role:o,subRole:u}))}else h(u=>({...u,[i]:c==="checkbox"?O:o}));r[i]&&m(u=>({...u,[i]:""}))},L=s=>{const{value:i}=s.target;h(o=>({...o,subRole:i})),r.subRole&&m(o=>({...o,subRole:""}))},P=s=>({FARMER:[{value:"SMALLHOLDER_FARMER",label:"Smallholder Farmer",description:"Small-scale farming with daily operations focus"},{value:"COMMERCIAL_FARMER",label:"Commercial Farmer",description:"Large-scale operations with business intelligence"},{value:"ORGANIC_SPECIALIST",label:"Organic Specialist",description:"Certified organic operations with premium market access"},{value:"LIVESTOCK_FARMER",label:"Livestock Farmer",description:"Animal health and product processing management"}],CONSUMER:[{value:"INDIVIDUAL_CONSUMER",label:"Individual Consumer",description:"Personal shopping with convenience focus"},{value:"RESTAURANT_BUSINESS",label:"Restaurant/Business",description:"Supply chain and inventory integration"},{value:"EXPORT_CLIENT",label:"Export Client",description:"International compliance and logistics"},{value:"INSTITUTIONAL_BUYER",label:"Institutional Buyer",description:"Contract management and budgeting"}],SUPPLIER:[{value:"LOGISTICS_PROVIDER",label:"Logistics Provider",description:"Fleet optimization and delivery efficiency"},{value:"INPUT_SUPPLIER",label:"Input Supplier",description:"Inventory and sales optimization"},{value:"MACHINERY_PROVIDER",label:"Machinery Provider",description:"Equipment rental and maintenance"},{value:"SERVICE_PROVIDER",label:"Service Provider",description:"Service delivery and booking management"}],AGENT:[{value:"FINANCIAL_ADVISOR",label:"Financial Advisor",description:"Loan portfolio and farmer financial health"},{value:"TECHNICAL_ADVISOR",label:"Technical Advisor",description:"Problem resolution and knowledge sharing"},{value:"LEGAL_SPECIALIST",label:"Legal Specialist",description:"Compliance and dispute resolution"},{value:"MARKET_ANALYST",label:"Market Analyst",description:"Price intelligence and market insights"}],ADMIN:[{value:"PLATFORM_ADMIN",label:"Platform Admin",description:"System health and user management"},{value:"BUSINESS_ADMIN",label:"Business Admin",description:"Revenue and business intelligence"}]})[s]||[],C=s=>({FARMER:"SMALLHOLDER_FARMER",CONSUMER:"INDIVIDUAL_CONSUMER",SUPPLIER:"INPUT_SUPPLIER",AGENT:"FINANCIAL_ADVISOR",ADMIN:"PLATFORM_ADMIN"})[s]||"",j=s=>({SMALLHOLDER_FARMER:["AI-generated daily task lists","Simple crop management","Immediate weather and price alerts","Basic revenue tracking","Mobile-optimized interface"],COMMERCIAL_FARMER:["Multi-farm operational dashboard","Supply chain management","Advanced business intelligence","Bulk contract identification","Enterprise system integration"],ORGANIC_SPECIALIST:["Certification status tracking","Quality management tools","Premium marketplace access","Compliance documentation","Sustainable agriculture network"],LIVESTOCK_FARMER:["Livestock health monitoring","Animal management programs","Product processing operations","Veterinary coordination","Mobile-optimized for field use"],INDIVIDUAL_CONSUMER:["AI-curated product recommendations","Quick order system","Delivery management","Personal analytics","Food community connections"],RESTAURANT_BUSINESS:["Supply chain overview","Template-based ordering","Inventory integration","Menu planning tools","Quality control monitoring"],EXPORT_CLIENT:["Global trade overview","Export management tools","Compliance documentation","International pricing intelligence","Global partner network"],INSTITUTIONAL_BUYER:["Contract management","Tender management tools","Budget compliance tracking","Quality assurance monitoring","Supplier performance tracking"],LOGISTICS_PROVIDER:["Fleet command center","Intelligent delivery prioritization","AI-powered route optimization","Maintenance scheduling","Performance analytics"],INPUT_SUPPLIER:["Inventory & sales snapshot","Multi-location inventory management","Customer relationship management","Sales intelligence","Competitive analysis"],MACHINERY_PROVIDER:["Equipment fleet overview","Rental operations management","Predictive maintenance","Revenue optimization","Customer management"],SERVICE_PROVIDER:["Service operations overview","Booking management","Mobile workforce coordination","Customer relations","Business performance analytics"],FINANCIAL_ADVISOR:["Financial portfolio overview","Loan management","Risk assessment tools","Impact analytics","Financial product development"],TECHNICAL_ADVISOR:["Active advisory cases","Remote diagnosis tools","Knowledge base integration","Impact measurement","Continuous learning resources"],LEGAL_SPECIALIST:["Legal cases overview","Compliance hub","Document management","Dispute resolution","Legal resources library"],MARKET_ANALYST:["Market intelligence overview","Price intelligence feeds","Supply-demand analysis","Automated reporting","Alert management"],PLATFORM_ADMIN:["Platform health monitoring","User management","System performance tracking","Feature deployment","Support operations"],BUSINESS_ADMIN:["Business overview analytics","Revenue analysis","Partnership management","Strategic planning tools","Executive reporting"]})[s]||[],T=s=>({SMALLHOLDER_FARMER:"/dashboard/farmer/smallholder",COMMERCIAL_FARMER:"/dashboard/farmer/commercial",ORGANIC_SPECIALIST:"/dashboard/farmer/organic",LIVESTOCK_FARMER:"/dashboard/farmer/livestock",INDIVIDUAL_CONSUMER:"/dashboard/consumer/individual",RESTAURANT_BUSINESS:"/dashboard/consumer/restaurant",EXPORT_CLIENT:"/dashboard/consumer/export",INSTITUTIONAL_BUYER:"/dashboard/consumer/institutional",LOGISTICS_PROVIDER:"/dashboard/supplier/logistics",INPUT_SUPPLIER:"/dashboard/supplier/input",MACHINERY_PROVIDER:"/dashboard/supplier/machinery",SERVICE_PROVIDER:"/dashboard/supplier/service",FINANCIAL_ADVISOR:"/dashboard/agent/financial",TECHNICAL_ADVISOR:"/dashboard/agent/technical",LEGAL_SPECIALIST:"/dashboard/agent/legal",MARKET_ANALYST:"/dashboard/agent/market",PLATFORM_ADMIN:"/dashboard/admin/platform",BUSINESS_ADMIN:"/dashboard/admin/business"})[s]||"/dashboard",M=()=>{const s={};return m({}),d(""),a.email.trim()?/^[^\s@]+@[^\s@]+\.[^\s@]+$/.test(a.email)||(s.email="Please enter a valid email address"):s.email="Email is required",a.password?a.password.length<6&&(s.password="Password must be at least 6 characters long"):s.password="Password is required",a.confirmPassword?a.password!==a.confirmPassword&&(s.confirmPassword="Passwords do not match"):s.confirmPassword="Please confirm your password",a.firstName.trim()||(s.firstName="First name is required"),a.lastName.trim()||(s.lastName="Last name is required"),a.subRole||(s.subRole="Please select a specific role type"),a.agreeToTerms||(s.agreeToTerms="You must agree to the terms and conditions"),["FARMER","SUPPLIER","AGENT"].includes(a.role)&&(a.businessName.trim()||(s.businessName=`${y(a.role)} name is required`),a.location.trim()||(s.location="Location is required")),m(s),Object.keys(s).length===0},y=s=>({FARMER:"Farm",CONSUMER:"Consumer",SUPPLIER:"Business",ADMIN:"Administrator",AGENT:"Organization"})[s]||s,E=s=>({SMALLHOLDER_FARMER:"Smallholder Farmer",COMMERCIAL_FARMER:"Commercial Farmer",ORGANIC_SPECIALIST:"Organic Specialist",LIVESTOCK_FARMER:"Livestock Farmer",INDIVIDUAL_CONSUMER:"Individual Consumer",RESTAURANT_BUSINESS:"Restaurant/Business",EXPORT_CLIENT:"Export Client",INSTITUTIONAL_BUYER:"Institutional Buyer",LOGISTICS_PROVIDER:"Logistics Provider",INPUT_SUPPLIER:"Input Supplier",MACHINERY_PROVIDER:"Machinery Provider",SERVICE_PROVIDER:"Service Provider",FINANCIAL_ADVISOR:"Financial Advisor",TECHNICAL_ADVISOR:"Technical Advisor",LEGAL_SPECIALIST:"Legal Specialist",MARKET_ANALYST:"Market Analyst",PLATFORM_ADMIN:"Platform Admin",BUSINESS_ADMIN:"Business Admin"})[s]||s,_=async s=>{if(s.preventDefault(),d(""),S(""),!!M()){g(!0);try{const i={email:a.email,password:a.password,first_name:a.firstName.trim(),last_name:a.lastName.trim(),phone_number:a.phoneNumber.trim()||void 0,role:a.role,sub_role:a.subRole,location:a.location.trim()};["FARMER","SUPPLIER","AGENT"].includes(a.role)&&(i.business_name=a.businessName.trim()),a.role==="FARMER"&&a.farmSize&&(i.farm_size=parseFloat(a.farmSize)),a.role==="SUPPLIER"&&(i.business_description=a.businessDescription.trim()||void 0),Object.keys(i).forEach(c=>{(i[c]===void 0||i[c]==="")&&delete i[c]}),console.log("📝 Registration data:",i);const o=await v(i);if(o.success){const c=T(a.subRole);S(`Registration successful! Redirecting to your ${E(a.subRole)} dashboard...`),setTimeout(()=>{x(c,{replace:!0})},2e3)}else o.details&&typeof o.details=="object"?(m(o.details),d("Please fix the validation errors below")):d(o.error||"Registration failed. Please try again.")}catch(i){console.error("Registration error:",i),d(i.message||"An unexpected error occurred during registration")}finally{g(!1)}}},F=[{value:"FARMER",label:"Farmer"},{value:"CONSUMER",label:"Consumer"},{value:"SUPPLIER",label:"Supplier"},{value:"AGENT",label:"Agricultural Agent"},{value:"ADMIN",label:"Administrator"}],R=P(a.role),N=R.find(s=>s.value===a.subRole);return e.jsx("div",{className:"auth-page",children:e.jsx("div",{className:"auth-container",children:e.jsxs(V,{className:"auth-card",padding:"large",children:[e.jsxs("div",{className:"auth-header",children:[e.jsx("h1",{children:"Join Agro-Gram"}),e.jsx("p",{children:"Create your account and select your specialized role in the agricultural ecosystem"})]}),I&&!Object.keys(r).length&&e.jsx("div",{className:"auth-message auth-error",children:e.jsx("p",{children:I})}),A&&e.jsx("div",{className:"auth-message auth-success",children:e.jsx("p",{children:A})}),e.jsxs("form",{onSubmit:_,className:"auth-form",children:[e.jsxs("div",{className:"form-section",children:[e.jsx("h3",{children:"Personal Information"}),e.jsxs("div",{className:"form-row",children:[e.jsxs("div",{className:"form-group",children:[e.jsx("label",{htmlFor:"firstName",children:"First Name *"}),e.jsx(t,{type:"text",id:"firstName",name:"firstName",value:a.firstName,onChange:l,placeholder:"Enter your first name",required:!0,disabled:n,error:!!r.firstName}),r.firstName&&e.jsx("span",{className:"field-error",children:r.firstName})]}),e.jsxs("div",{className:"form-group",children:[e.jsx("label",{htmlFor:"lastName",children:"Last Name *"}),e.jsx(t,{type:"text",id:"lastName",name:"lastName",value:a.lastName,onChange:l,placeholder:"Enter your last name",required:!0,disabled:n,error:!!r.lastName}),r.lastName&&e.jsx("span",{className:"field-error",children:r.lastName})]})]}),e.jsxs("div",{className:"form-group",children:[e.jsx("label",{htmlFor:"email",children:"Email Address *"}),e.jsx(t,{type:"email",id:"email",name:"email",value:a.email,onChange:l,placeholder:"Enter your email address",required:!0,disabled:n,error:!!r.email}),r.email&&e.jsx("span",{className:"field-error",children:r.email})]}),e.jsxs("div",{className:"form-group",children:[e.jsx("label",{htmlFor:"phoneNumber",children:"Phone Number"}),e.jsx(t,{type:"tel",id:"phoneNumber",name:"phoneNumber",value:a.phoneNumber,onChange:l,placeholder:"Enter your phone number",disabled:n,error:!!r.phoneNumber}),r.phoneNumber&&e.jsx("span",{className:"field-error",children:r.phoneNumber})]})]}),e.jsxs("div",{className:"form-section",children:[e.jsx("h3",{children:"Account Security"}),e.jsxs("div",{className:"form-row",children:[e.jsxs("div",{className:"form-group",children:[e.jsx("label",{htmlFor:"password",children:"Password *"}),e.jsx(t,{type:"password",id:"password",name:"password",value:a.password,onChange:l,placeholder:"Create a password (min. 6 characters)",required:!0,disabled:n,error:!!r.password}),r.password&&e.jsx("span",{className:"field-error",children:r.password})]}),e.jsxs("div",{className:"form-group",children:[e.jsx("label",{htmlFor:"confirmPassword",children:"Confirm Password *"}),e.jsx(t,{type:"password",id:"confirmPassword",name:"confirmPassword",value:a.confirmPassword,onChange:l,placeholder:"Confirm your password",required:!0,disabled:n,error:!!r.confirmPassword}),r.confirmPassword&&e.jsx("span",{className:"field-error",children:r.confirmPassword})]})]})]}),e.jsxs("div",{className:"form-section",children:[e.jsx("h3",{children:"Account Type"}),e.jsxs("div",{className:"form-group",children:[e.jsx("label",{htmlFor:"role",children:"Select Your Main Role *"}),e.jsx("select",{id:"role",name:"role",value:a.role,onChange:l,disabled:n,className:"form-select",style:{width:"100%",padding:"0.75rem",border:r.role?"1px solid #e74c3c":"1px solid #ddd",borderRadius:"4px",fontSize:"1rem",marginBottom:"1rem"},children:F.map(s=>e.jsx("option",{value:s.value,children:s.label},s.value))})]}),e.jsxs("div",{className:"form-group",children:[e.jsx("label",{htmlFor:"subRole",children:"Select Your Specialized Role *"}),e.jsx("select",{id:"subRole",name:"subRole",value:a.subRole,onChange:L,disabled:n||R.length===0,className:"form-select",style:{width:"100%",padding:"0.75rem",border:r.subRole?"1px solid #e74c3c":"1px solid #ddd",borderRadius:"4px",fontSize:"1rem"},children:R.map(s=>e.jsx("option",{value:s.value,children:s.label},s.value))}),r.subRole&&e.jsx("span",{className:"field-error",children:r.subRole}),N&&e.jsxs("div",{className:"role-info",children:[e.jsxs("div",{className:"role-header",children:[e.jsx("h4",{children:N.label}),e.jsx("p",{className:"role-description",children:N.description})]}),e.jsxs("div",{className:"role-features",children:[e.jsx("h5",{children:"Specialized Features:"}),e.jsx("ul",{children:j(a.subRole).map((s,i)=>e.jsxs("li",{children:[e.jsx("span",{className:"feature-icon",children:"✓"}),s]},i))})]})]})]})]}),["FARMER","SUPPLIER","AGENT"].includes(a.role)&&e.jsxs("div",{className:"form-section",children:[e.jsx("h3",{children:"Business Information"}),e.jsxs("div",{className:"form-group",children:[e.jsx("label",{htmlFor:"businessName",children:a.role==="FARMER"?"Farm Name *":a.role==="AGENT"?"Organization Name *":"Business Name *"}),e.jsx(t,{type:"text",id:"businessName",name:"businessName",value:a.businessName,onChange:l,placeholder:a.role==="FARMER"?"Enter your farm name":a.role==="AGENT"?"Enter your organization name":"Enter your business name",required:!0,disabled:n,error:!!r.businessName}),r.businessName&&e.jsx("span",{className:"field-error",children:r.businessName})]}),e.jsxs("div",{className:"form-group",children:[e.jsx("label",{htmlFor:"location",children:"Location *"}),e.jsx(t,{type:"text",id:"location",name:"location",value:a.location,onChange:l,placeholder:"Enter your location",disabled:n,required:!0,error:!!r.location}),r.location&&e.jsx("span",{className:"field-error",children:r.location})]}),a.role==="FARMER"&&e.jsxs("div",{className:"form-group",children:[e.jsx("label",{htmlFor:"farmSize",children:"Farm Size (acres)"}),e.jsx(t,{type:"number",id:"farmSize",name:"farmSize",value:a.farmSize,onChange:l,placeholder:"0.00",step:"0.01",min:"0",disabled:n})]}),a.role==="SUPPLIER"&&e.jsxs("div",{className:"form-group",children:[e.jsx("label",{htmlFor:"businessDescription",children:"Business Description"}),e.jsx(t,{type:"text",id:"businessDescription",name:"businessDescription",value:a.businessDescription,onChange:l,placeholder:"Describe your business and products",disabled:n})]})]}),e.jsx("div",{className:"form-section",children:e.jsxs("div",{className:"form-group checkbox-group",children:[e.jsxs("label",{className:"checkbox-label",children:[e.jsx("input",{type:"checkbox",name:"agreeToTerms",checked:a.agreeToTerms,onChange:l,disabled:n,required:!0}),e.jsxs("span",{children:["I agree to the ",e.jsx(b,{to:"/terms",className:"auth-link",children:"Terms of Service"})," and ",e.jsx(b,{to:"/privacy",className:"auth-link",children:"Privacy Policy"})," *"]})]}),r.agreeToTerms&&e.jsx("span",{className:"field-error",children:r.agreeToTerms})]})}),e.jsx("div",{className:"auth-button-container",children:e.jsx(B,{type:"submit",variant:"primary",size:"large",disabled:n,fullWidth:!0,children:n?e.jsxs(e.Fragment,{children:[e.jsx(z,{size:"small"}),"Creating Account..."]}):`Create ${E(a.subRole)} Account`})})]}),e.jsx("div",{className:"auth-footer",children:e.jsxs("p",{children:["Already have an account?"," ",e.jsx(b,{to:"/login",className:"auth-link",children:"Sign in here"})]})})]})})})};export{H as default};
//# sourceMappingURL=Register-Cn1hlLXZ.js.map
